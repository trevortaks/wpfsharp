<Window x:Class="instasharp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="InstaWPF" Height="750" Width="1250">
    <Window.Resources>
        <FontFamily x:Key="FontAwesome">./fonts/FontAwesome.otf#FontAwesome</FontFamily>
        <FontFamily x:Key="FontAwesomeRegular">./fonts/FontAwesome5FreeRegular.otf#Font Awesome 5 Free Regular</FontFamily>
        <FontFamily x:Key="FontAwesomeSolid">./fonts/FontAwesome5FreeSolid.otf#Font Awesome 5 Free Solid</FontFamily>
        <FontFamily x:Key="FontAwesomeBrands">./fonts/FontAwesome5BrandsRegular400.otf#Font Awesome 5 Brands Regular</FontFamily>
    </Window.Resources>
    
    <Grid Background="#eee" >


        <!--<Label Content="Instagram" Height="60" Margin="0,0,0,675" HorizontalContentAlignment="Center" 
               FontSize="20" Panel.ZIndex="1" Background="#ddd" VerticalContentAlignment="Top"/> -->
        <ScrollViewer VerticalScrollBarVisibility="Auto">
        <ItemsControl Name="icPost" ItemsSource="{Binding post}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
            
                <ItemsControl.ItemTemplate>
                <DataTemplate x:Name="dtPost">
                    
                    <Border x:Name="Post" Background="#eee" CornerRadius="5" 
                        HorizontalAlignment="Left" Width="300" Margin="10, 25,0,0"
                        BorderBrush="LightGray" BorderThickness="1" Height="500" VerticalAlignment="Top">
                            <StackPanel Background="Transparent" HorizontalAlignment="Stretch" Height="500">

                                <StackPanel Height="50" Orientation="Horizontal" VerticalAlignment="Center">
                                    <Ellipse Width="30" Height="30" Margin="10, 0, 0, 0">
                                        <Ellipse.Fill>
                                            <ImageBrush ImageSource="{Binding url}"/>
                                        </Ellipse.Fill>
                                    </Ellipse>
                                    <Label x:Name="btnUsername" Content="{Binding userName}" VerticalAlignment="Center"
                                           Height="40" Margin="10,10,0,0" FontWeight="Bold" />
                                </StackPanel>
                                <Rectangle HorizontalAlignment="Stretch" Fill="LightGray" Height="1"/>
                                <!--<ItemsControl Name="icImages">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate> -->
                                <!--<Image x:Name="imgPost" Height="300" Source="{Binding url}" />-->
                                <!--</DataTemplate>
                                    </ItemsControl.ItemTemplate>
                            </ItemsControl>
                            <MediaElement Source="{Binding url}" Height="300" Stretch="Fill" LoadedBehavior="Pause"/>-->

                                <Image x:Name="imgPost" Source="{Binding url}">
                                    <Image.Style>
                                        <Style TargetType="Image">
                                            <Setter Property="Height" Value="0"/>

                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding isImage }" Value="true">
                                                    <Setter  Property="Height"  Value="300"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Image.Style>
                                </Image>
                                <!--<StackPanel Name="spVideo" Orientation="Vertical">-->
                                <MediaElement Name="meVideo" Source="{Binding url}" Stretch="Uniform" LoadedBehavior="Pause" ScrubbingEnabled="True">
                                    <MediaElement.Style>
                                        <Style TargetType="MediaElement">
                                            <Setter Property="Height" Value="0"/>

                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding isImage }" Value="false">
                                                    <Setter  Property="Height"  Value="300"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </MediaElement.Style>
                                </MediaElement>
                                
                                    <!--<WrapPanel>
                                        <Button Name="btnPlay" Click="btnPlay_Click" Width="50">Play</Button>
                                        <Button Name="btnPause" Click="btnPause_Click" Width="50">Pause</Button>
                                        <Button Name="btnStop" Click="btnStop_Click" Width="50">Stop</Button>
                                    </WrapPanel>
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Height" Value="0"/>

                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding isImage }" Value="false">
                                                    <Setter  Property="Height"  Value="300"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>
                                </StackPanel>-->

                                <Rectangle HorizontalAlignment="Stretch" Fill="LightGray" Height="1"/>
                            <StackPanel Orientation="Horizontal" Height="30">
                                <Button Content="&#xf004;" Width="50" Background="Transparent" FontSize="20" FontFamily="{StaticResource FontAwesomeRegular}" BorderBrush="Transparent" />
                                <Button Content="" Width="50" Background="Transparent" FontSize="20" FontFamily="{StaticResource FontAwesomeRegular}" BorderBrush="Transparent" />
                                <Button Content="&#xf1d8;" Width="50" Background="Transparent" FontSize="20" FontFamily="{StaticResource FontAwesomeRegular}" BorderBrush="Transparent" />
                            </StackPanel>
                            <Rectangle HorizontalAlignment="Stretch" Fill="LightGray" Height="1"/>
                            <Label x:Name="lblLikes" FontFamily="{StaticResource FontAwesome}">
                                <TextBlock Text="{Binding likesCount, StringFormat='\{0\} likes'}"/>
                            </Label>
                            <Label x:Name="lblCaption" Content="{Binding caption}" Height="50"/>
                            <Label x:Name="lblComments" Height="70">
                                <TextBlock Text="{Binding commentsCount, StringFormat='\{0\} comments'}"/>
                            </Label>
                        </StackPanel>
                    </Border>
                </DataTemplate>    
            </ItemsControl.ItemTemplate>
                
            </ItemsControl>
        </ScrollViewer>
        
       
    </Grid>
</Window>
